-------------------------------------------------------------------------------
**** Data Dictionary for the FracFocus Cleanup - open_FF project  ****
-------------------------------------------------------------------------------

This file describes the contents of the final data files.  One requirement 
for using the FracFocus data is stipulated on the FracFocus website:

  "Downloaded data may be aggregated or combined with other datasets, 
   but the FracFocus data may not be altered in any way." 

Please read the entire "Terms of use" at http://fracfocus.org/data-download.

The work in this project maintains the original FracFocus data as is reported
in the bulk download.  The field names used in the original are kept: All of 
these original names begin with a upper-case character and can be identified
in that way.  Fields generated by this project will begin with a lower case
character (for example, 'CASNumber' is the original field, 'bgCAS' is the 
generated field.)

In the zipped bulk download from FracFocus, a data dictionary is provided in 
the 'readme.txt' file. (This zipped download is in the sources or data directory
and named 'currentData.zip')  This file gives some information about many of 
the fields found, however, it is written for the SQL database version of the bulk 
download, not the Excel version which we use in this project.  
Further, some important fields are not mentioned in that readme.txt file; I
describe them below.  For the rest, see that original file for the description.  

-------------------------------------------------------------------------------
   ****  Original FracFocus fields  (not mentioned in original docs) ****
-------------------------------------------------------------------------------

UploadKey - Multicharacter code used to identify a specific fracking disclosure
  throughout the data.  In this project, that disclosure references a single
  fracking 'event.'  All chemical records for that event are labeled with the
  same UploadKey.  [Note there are instances where multiple UploadKeys refer
  apparently to the same event, probably caused when operators updated information 
  as new entries because FracFocus will not change disclosures once submitted. 
  These multiples are handled explicitly in this code.] The UploadKeys for
  the SkyTruth data are generated by this code and start with the three
  letters "SKY"

MassIngredient - Mass (in pounds) of the chemical.  

-------------------------------------------------------------------------------
           ****  Fields generated by the open_FF project****
-------------------------------------------------------------------------------


bgCAS - this is our best guess for the CAS registry number based on: 1) CASNumber, 
  2) a cleaning and validation process, and 3) a check against an authoritative
  catelog of CAS numbers.

bgIngredientName - the primary ingredient name used for bgCAS in the online 
  reference, SciFinder.  While other synonyms may be valid, a single name used
  across the whole data set allows for easier searches.

bgMass - our best guess for the mass (in pounds) of the chemical in the record. 
  This mass is calculated using the total mass of the fracking job and the 
  percentage of the chemical in the whold job (PercentHFJob).  Because 
  this calculation depends on consistent information in several fields, 
  bgMass is only reported under the following conditions:
  - the carrier is identified as water, in a single record, and is > 40%
  - the Total Water Volume of the carrier for the event is reported
  - the PercentHFJob is non-zero for the chemical
  - the sum of percentages in all records in an event are within 5% of 100%

bgOperatorName - our curatated version of the raw field 'OperatorName.'  This is 
  a simple translation of the OperatorName field using the file: xlate_OperatorName.csv.
  See that file in the data or sources directory.

bgStateName - our curatated version of the raw field 'StateName.'  This is 
  a simple translation of the StateName field using the file: xlate_StateName.csv.
  See that file in the data or sources directory.

bgSupplier- our curatated version of the raw field 'Supplier.'  This is 
  a simple translation of the Supplier field using the file: xlate_Supplier.csv.
  See that file in the data or sources directory.  This is an attempt to clean
  up the field to make it more searchable. While the raw field has over 80
  versions of the company name Halliburton, bgSupplier has only one.

data_source - indicates whether record was sourced from 'bulk' or 'skytruth'

date - a cleaned version of JobEndDate.  This version has removed time stamps and 
  has corrected a few erroneous years

eh_Class_L1 - From the Elsner/Hoelzer 2016 table. 

eh_Class_L2 - From the Elsner/Hoelzer 2016 table. 

eh_CAS - From the Elsner/Hoelzer 2016 table. 

eh_IngredientName - From the Elsner/Hoelzer 2016 table. 

eh_subs_class - From the Elsner/Hoelzer 2016 table. 

eh_function - From the Elsner/Hoelzer 2016 table. 

is_in_TEDX - 

is_in_TSCA - 

raw_filename - the name of the input file in the bulk download or skytruth
  archive in which the current record is found.

reckey - a simple incrementing index of records across all raw input files.

record_flags - this field holds all generated codes about each record. It is in the
  form of one long string (for example: '-B-P-M-A').
  Possible codes:

    1 - empty event. Indicates an event with no chemical records.
    2 - duplicate event.  Indicates that this event has at least one duplicate
        event (same date and api10 but different UploadKey) elsewhere in the raw
        data.  These events are typically filtered out.
    3 - proprietary.  The CASNumber indicates a Proprietary claim.  See the file
        'cas_labels.csv' in the data or sources directory for a full list of
        CASNumber entries that trigger this flag.
    4 - non-CAS but with quantity.  The entered CASNumber does not have a CAS-like
        format, is not proprietary, but does have some indication of quantity 
        (either PercentHFJob or MassIngredient is  greater than zero)
    5 - non-CAS without quantity. Like '4' but no indication of quantity.
    % - The event's total PercentHFJob is within tolerance of 100%
    + - A SkyTruth event that has an "empty" pair in the bulk download. These are
        the primary usable records of the SkyTruth archive.
    ? - A SkyTruth event that has no APINumber/date pair in the bulk download. 
        These should be removed in most filtered outputs.
    e - A SkyTruth event that is redundant because a non-empty version is
        available in the bulk download. These should be removed in most filtered
        outputs.
    A - This code indicates valid presence of the chemical in this event (this
        record may also have valid mass information).
    B - Raw data source for this record is the FracFocus bulk download
    C - This record has been identified as a carrier or base fluid record. 
    L - This code indicates a location datum (lat or lon) seems outside 
        APINumber implied location. bgLatitude and/or bgLongitude have
        beed adjusted
    M - This code indicates valid mass (in bgMass) for this chemical.
    N - This code indicates a location name mistake (state or county names 
        do not match state or county codes).
    P - Valid CAS. The CASNumber of this record exactly matches (after some cleanup)
        an authoritative CAS number.
    R - This record is redundant within the event and should be excluded in any
        calculations.
    S - This record has been identified as the only carrier record in the event.
    Y - Raw data source for this record is the SkyTruth pdf scraping archive.


